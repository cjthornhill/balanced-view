from newsapi import NewsApiClient


def main(queries):
    # Init
    newsapi = NewsApiClient(api_key='5ac6efdd758d45edbba8dbc2d0e658e1')

    sources = {'left': 'the-guardian-uk,independent,msnbc,politico',
               'centre': 'reuters,financial-times,bbc-news,the-wall-street-journal,cnn,bloomberg',
               'right': 'daily-mail,fox-news, the-telegraph'}


    for i in queries:
        left_articles = newsapi.get_everything(q=i, language='en', sources=sources['left'])
        centre_articles = newsapi.get_everything(q=i, language='en', sources=sources['centre'])
        right_articles = newsapi.get_everything(q=i, language='en', sources=sources['right'])


        for t in left_articles['articles']:
            print(t['source'], t['title'], t['urlToImage'])
        for t in centre_articles['articles']:
            print(t['source'], t['title'], t['urlToImage'])
        for t in right_articles['articles']:
            print(t['source'], t['title'], t['urlToImage'])




queries = ['Prime minister Brexit', 'Prime minister stop Brexit', 'May stop brexit']

main(queries)
